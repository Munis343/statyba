<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Paint Calculator</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    :root {
      --primary: #205781;
      --accent: #4F959D;
      --highlight: #E53935;
    }
    .tab-active {
      color: var(--highlight);
      border-bottom: 2px solid var(--highlight);
      font-weight: 600;
    }
    .tab-inactive {
      color: var(--primary);
      border-bottom: 2px solid transparent;
    }
    input[type="number"] {
      border: 1px solid #ccc;
    }
  </style>
</head>
<body class="bg-gray-50 text-gray-800 font-sans py-8">
  <div class="max-w-3xl mx-auto bg-white p-6 rounded-lg shadow space-y-6">
    <h1 class="text-2xl font-bold text-[var(--primary)] text-center mb-2">Paint Calculator</h1>

    <!-- Tabs -->
    <div class="flex justify-center gap-6 border-b">
      <button id="tab-wall" class="tab-active pb-2" onclick="setMode('wall')">Wall Dimensions</button>
      <button id="tab-room" class="tab-inactive pb-2" onclick="setMode('room')">Room Dimensions</button>
      <button id="tab-area" class="tab-inactive pb-2" onclick="setMode('area')">Total Area</button>
    </div>

    <!-- Wall Dimensions -->
    <div id="mode-wall" class="space-y-6">
      <!-- Walls -->
      <div>
        <h2 class="font-semibold mb-2 text-[var(--primary)]">Walls</h2>
        <div id="wallFields" class="space-y-2"></div>
        <button onclick="addWall()" class="mt-2 bg-gray-200 text-sm px-3 py-1 rounded">Add Wall</button>
      </div>

      <!-- Ceilings -->
      <div>
        <h2 class="font-semibold mb-2 text-[var(--primary)]">Ceilings</h2>
        <div id="ceilingFields" class="space-y-2"></div>
        <button onclick="addCeiling()" class="mt-2 bg-gray-200 text-sm px-3 py-1 rounded">Add Ceiling</button>
      </div>

      <!-- Subtractions -->
      <div>
        <h2 class="font-semibold mb-2 text-[var(--primary)]">Subtract Doors and Windows (optional):</h2>
        <div class="grid grid-cols-2 gap-4">
          <div>
            <label class="block mb-1">Doors:</label>
            <input type="number" id="doorsCount" class="w-full px-2 py-1 rounded" placeholder="3" />
            <p class="text-xs text-gray-500">(~ 2 sq m each)</p>
          </div>
          <div>
            <label class="block mb-1">Windows:</label>
            <input type="number" id="windowsCount" class="w-full px-2 py-1 rounded" placeholder="4" />
            <p class="text-xs text-gray-500">(~ 1.1 sq m each)</p>
          </div>
        </div>
      </div>
    </div>

    <!-- Room Mode -->
    <div id="mode-room" class="space-y-6 hidden">
      <div class="grid grid-cols-3 gap-4">
        <div>
          <label class="block mb-1">Length:</label>
          <input type="number" id="roomLength" class="w-full px-2 py-1 rounded" />
        </div>
        <div>
          <label class="block mb-1">Width:</label>
          <input type="number" id="roomWidth" class="w-full px-2 py-1 rounded" />
        </div>
        <div>
          <label class="block mb-1">Height:</label>
          <input type="number" id="roomHeight" class="w-full px-2 py-1 rounded" />
        </div>
      </div>
    </div>

    <!-- Total Area Mode -->
    <div id="mode-area" class="space-y-4 hidden">
      <label class="block">Enter Total Area (sq m):</label>
      <input type="number" id="manualArea" class="w-full px-2 py-1 rounded" />
    </div>

    <!-- Paint Details -->
    <div class="space-y-4">
      <h2 class="font-semibold text-[var(--primary)]">Paint Details</h2>
      <div class="grid grid-cols-2 gap-4">
        <div>
          <label class="block mb-1">Coverage Rate:</label>
          <input type="number" id="coverageRate" class="w-full px-2 py-1 rounded" placeholder="12" />
          <p class="text-xs text-gray-500">sq m / liter</p>
        </div>
        <div>
          <label class="block mb-1">Number of Coats:</label>
          <input type="number" id="coats" class="w-full px-2 py-1 rounded" placeholder="2" />
        </div>
      </div>
    </div>

    <!-- Button -->
    <div>
      <button onclick="calculate()" class="w-full bg-[var(--highlight)] text-white font-semibold py-2 rounded">Calculate</button>
    </div>

    <!-- Results -->
    <div id="results" class="bg-green-100 border border-green-300 text-green-800 p-4 rounded hidden space-y-1">
      <p>Total Paintable Area: <span id="areaOutput">0</span> sq m</p>
      <p>Estimated Paint Needed: <span id="paintOutput">0</span> Liters</p>
    </div>
  </div>
<script>
let mode = 'wall';
let walls = [];
let ceilings = [];

function setMode(newMode) {
  mode = newMode;
  ['wall', 'room', 'area'].forEach(id => {
    document.getElementById(`mode-${id}`).classList.toggle('hidden', id !== newMode);
    document.getElementById(`tab-${id}`).className = id === newMode ? 'tab-active pb-2' : 'tab-inactive pb-2';
  });
}

function addWall() {
  const i = walls.length + 1;
  const container = document.createElement('div');
  container.className = 'flex gap-2 items-center';
  container.innerHTML = `
    <label class="text-sm font-medium w-16">Wall ${i}:</label>
    <input type="number" class="w-24 px-2 py-1 rounded wall-width" placeholder="Width" />
    <span>m</span>
    <input type="number" class="w-24 px-2 py-1 rounded wall-height" placeholder="Height" />
    <span>m</span>
    <button onclick="this.parentElement.remove(); walls.pop(); renumberWalls()" class="text-red-600 text-lg">×</button>
  `;
  document.getElementById('wallFields').appendChild(container);
  walls.push(container);
}

function renumberWalls() {
  const labels = document.querySelectorAll('#wallFields label');
  labels.forEach((label, idx) => label.textContent = `Wall ${idx + 1}:`);
}

function addCeiling() {
  const i = ceilings.length + 1;
  const container = document.createElement('div');
  container.className = 'flex gap-2 items-center';
  container.innerHTML = `
    <label class="text-sm font-medium w-20">Ceiling ${i}:</label>
    <input type="number" class="w-24 px-2 py-1 rounded ceiling-length" placeholder="Length" />
    <span>m</span>
    <input type="number" class="w-24 px-2 py-1 rounded ceiling-width" placeholder="Width" />
    <span>m</span>
    <button onclick="this.parentElement.remove(); ceilings.pop(); renumberCeilings()" class="text-red-600 text-lg">×</button>
  `;
  document.getElementById('ceilingFields').appendChild(container);
  ceilings.push(container);
}

function renumberCeilings() {
  const labels = document.querySelectorAll('#ceilingFields label');
  labels.forEach((label, idx) => label.textContent = `Ceiling ${idx + 1}:`);
}

function calculate() {
  let totalArea = 0;

  if (mode === 'wall') {
    walls.forEach(wall => {
      const width = parseFloat(wall.querySelector('.wall-width').value) || 0;
      const height = parseFloat(wall.querySelector('.wall-height').value) || 0;
      totalArea += width * height;
    });

    ceilings.forEach(ceiling => {
      const length = parseFloat(ceiling.querySelector('.ceiling-length').value) || 0;
      const width = parseFloat(ceiling.querySelector('.ceiling-width').value) || 0;
      totalArea += length * width;
    });

    const doors = parseInt(document.getElementById('doorsCount').value) || 0;
    const windows = parseInt(document.getElementById('windowsCount').value) || 0;

    totalArea -= (doors * 2);     // 2 sqm per door
    totalArea -= (windows * 1.1); // 1.1 sqm per window
  }

  if (mode === 'room') {
    const L = parseFloat(document.getElementById('roomLength').value) || 0;
    const W = parseFloat(document.getElementById('roomWidth').value) || 0;
    const H = parseFloat(document.getElementById('roomHeight').value) || 0;
    totalArea = 2 * H * (L + W) + (L * W); // walls + ceiling
  }

  if (mode === 'area') {
    totalArea = parseFloat(document.getElementById('manualArea').value) || 0;
  }

  const coverage = parseFloat(document.getElementById('coverageRate').value) || 12;
  const coats = parseInt(document.getElementById('coats').value) || 1;

  const paintNeeded = (totalArea * coats) / coverage;

  document.getElementById('areaOutput').textContent = totalArea.toFixed(2);
  document.getElementById('paintOutput').textContent = paintNeeded.toFixed(2);
  document.getElementById('results').classList.remove('hidden');
}

setMode('wall'); // set default mode
</script>
</body>
</html>
